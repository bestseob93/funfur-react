webpackJsonp([7],{1170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(87),r=n.n(a),o=n(81),s=n.n(o),i=n(82),u=n.n(i),c=n(83),l=n.n(c),d=n(84),h=n.n(d),f=n(85),m=n.n(f),p=n(2),g=n.n(p),b=n(11),v=n.n(b),y=n(171),k=n(269),E=n(1259),w=n(271),N=n(499),I={router:v.a.object},x=function(e){function t(){return u()(this,t),h()(this,(t.__proto__||s()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return g.a.createElement(E.a,null,g.a.createElement(E.b,r()({},this.props,{router:this.context.router})))}}]),t}(p.Component);x.contextTypes=I,t.default=Object(k.b)(function(e){return{form:e.form.get("login"),status:{login:e.auth.getIn(["requests","login"]),token:e.auth.get("token")},valid:{login:e.auth.getIn(["valid","login"])}}},function(e){return{FormActions:Object(y.b)(N,e),AuthActions:Object(y.b)(w,e)}})(x)},1259:function(e,t,n){"use strict";var a=n(1260),r=n(1261);n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return r.a})},1260:function(e,t,n){"use strict";function a(e){var t=e.children;return o.a.createElement("div",{className:"auth-top-border middle-box text-center"},t)}var r=n(2),o=n.n(r);t.a=a},1261:function(e,t,n){"use strict";var a=n(495),r=n.n(a),o=n(496),s=n.n(o),i=n(81),u=n.n(i),c=n(82),l=n.n(c),d=n(83),h=n.n(d),f=n(84),m=n.n(f),p=n(85),g=n.n(p),b=n(2),v=n.n(b),y=n(40),k=n(497),E=(n(86),n(500)),w=n.n(E),N=n(498),I=N.ToastContainer,x=v.a.createFactory(N.ToastMessage.animation),A=function(e){function t(e){l()(this,t);var n=m()(this,(t.__proto__||u()(t)).call(this,e));return n.addAlert=n.addAlert.bind(n),n.changeHandler=n.changeHandler.bind(n),n.handleEnterPress=n.handleEnterPress.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleToastOff=n.handleToastOff.bind(n),n}return g()(t,e),h()(t,[{key:"addAlert",value:function(e,t){switch(e){case"warning":return this.toastRef.warning(""+t);case"success":return this.toastRef.success(""+t);case"error":return this.toastRef.error(""+t)}}},{key:"changeHandler",value:function(e){this.props.FormActions.formChange({formName:"login",name:e.target.name,value:e.target.value})}},{key:"handleEnterPress",value:function(e){var t=this.handleSubmit;13===e.charCode&&t(e)}},{key:"handleSubmit",value:function(){function e(e){return t.apply(this,arguments)}var t=s()(r.a.mark(function e(t){var n,a,o,s=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.AuthActions,o=n.form,t.preventDefault(),""!==o.get("userId")&&"string"===typeof o.get("userId")){e.next=7;break}this.addAlert("warning","아이디를 입력해주세요!"),this.idInput.focus(),e.next=20;break;case 7:if(""!==o.get("password")&&"string"===typeof o.get("password")){e.next=12;break}this.addAlert("warning","비밀번호를 입력해주세요!"),this.pwInput.focus(),e.next=20;break;case 12:return e.prev=12,e.next=15,a.loginCeo(o.get("userId"),o.get("password")).then(function(e){w.a.clear().then(function(){return e.value.data}).then(function(e){return w.a.setItem("auth",{ceoName:e.ceoName,companyName:e.companyName}),e}).then(function(e){w.a.setItem("token",e.token).then(function(){return s.props.router.history.push("/ceo")})})});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),e.t0&&this.addAlert("error","아이디나 패스워드를 확인해주세요!");case 20:case"end":return e.stop()}},e,this,[[12,17]])}));return e}()},{key:"handleToastOff",value:function(){var e=this.props.form,t=e.get("userId"),n=e.get("password");""===t||"string"!==typeof t?this.idInput.focus():""===n||"string"!==typeof n?this.pwInput.focus():this.idInput.focus()}},{key:"render",value:function(){var e=this,t=this.changeHandler,n=this.handleEnterPress,a=this.handleSubmit,r=this.handleToastOff;return v.a.createElement("div",{className:"login-form"},this.props.status.login.get("fetching")&&v.a.createElement(k.c,null),v.a.createElement(I,{ref:function(t){e.toastRef=t},toastMessageFactory:x,className:document.documentElement.clientWidth<768?"toast-bottom-center":"toast-top-right",onClick:r}),v.a.createElement(y.Link,{to:"/"},v.a.createElement("h1",{className:"funfur-color bm-dohyeon",style:{marginBottom:"20px"}},"뻔뻐")),v.a.createElement("div",{className:"form-group"},v.a.createElement("input",{ref:function(t){e.idInput=t},type:"text",className:"form-control login-input",name:"userId",placeholder:"아이디",required:!0,onChange:t})),v.a.createElement("div",{className:"form-group"},v.a.createElement("input",{ref:function(t){e.pwInput=t},type:"password",className:"form-control login-input",name:"password",placeholder:"비밀번호",required:!0,onChange:t,onKeyPress:n})),v.a.createElement("button",{type:"button",className:"ns-EB btn funfur-btn width100",onClick:a},"로그인"),v.a.createElement("div",{className:"find-wrapper"},v.a.createElement(y.Link,{to:"/findAuth",className:"blue-text"},"아이디/패스워드 찾기"),v.a.createElement("p",null,"뻔뻐에 아직 입주 안했나요?")),v.a.createElement(y.Link,{to:"/register",className:"btn btn-prev btn-common width100",style:{margin:0}},"회원가입"))}}]),t}(b.Component);t.a=A}});
//# sourceMappingURL=7.f5503f24.chunk.js.map