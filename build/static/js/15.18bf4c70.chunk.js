webpackJsonp([15],{1231:function(e,t,a){"use strict";var n=a(81),r=a.n(n),i=a(82),l=a.n(i),s=a(83),c=a.n(s),o=a(84),m=a.n(o),d=a(85),p=a.n(d),u=a(2),h=a.n(u),g=function(e){function t(e){l()(this,t);var a=m()(this,(t.__proto__||r()(t)).call(this,e));return a.onPrint.bind(a),a}return p()(t,e),c()(t,[{key:"onPrint",value:function(){var e=document.querySelector("html"),t=document.querySelector("#modal-order-specific-dialog").innerHTML,a=document.createElement("DIV");a.className="print-div",e.appendChild(a),a.innerHTML=t,document.body.style.display="none",window.print(),document.body.style.display="block",a.style.display="none"}},{key:"render",value:function(){var e=this,t=this.props.orderSpecific.toObject(),a=function(){e.props.modalVisibleHandler(null)};return h.a.createElement("div",{className:"modal "+(this.props.modalVisible?"fade in animated fadeIn":"fade"),style:this.props.modalVisible?{display:"block"}:{display:"none"},tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel"},h.a.createElement("div",{className:"modal-dialog",id:"modal-order-specific-dialog"},h.a.createElement("div",{className:"modal-content",id:"modal-order-specific-content"},h.a.createElement("div",{className:"order__specific__wrapper"},h.a.createElement("div",null,h.a.createElement("span",null,"주문 상세정보")," ",h.a.createElement("div",{className:"icon",id:"x",onClick:a}),h.a.createElement("table",{id:"specific--table"},h.a.createElement("tr",null,h.a.createElement("td",{className:"title"},"상품"),h.a.createElement("td",{className:"contents"},t.product_name),h.a.createElement("td",{className:"title left-border"},"결제방법"),h.a.createElement("td",{className:"contents"},"카드")),h.a.createElement("tr",null,h.a.createElement("td",{className:"title"},"구매자"),h.a.createElement("td",{className:"contents"},t.buyer_name),h.a.createElement("td",{className:"title left-border"},"구매자ID"),h.a.createElement("td",{className:"contents"},t.buyer_id)),h.a.createElement("tr",null,h.a.createElement("td",{className:"title"},"주문수량"),h.a.createElement("td",{className:"contents"},t.order_quantity),h.a.createElement("td",{className:"title left-border"},"총 상품 금액"),h.a.createElement("td",{className:"contents"},t.product_price,"원")),h.a.createElement("tr",null,h.a.createElement("td",{className:"title"},"주문날짜"),h.a.createElement("td",{colSpan:3,className:"contents"},function(e){var t=e.indexOf("T");return e.substring(0,t)+" "+e.substring(t+1,e.indexOf("."))}(t.created_at))))),h.a.createElement("div",null,h.a.createElement("span",null,"배송지 정보"),h.a.createElement("table",null,h.a.createElement("tr",{colSpan:4},h.a.createElement("td",{colSpan:1,className:"title"},"수취인"),h.a.createElement("td",{colSpan:1,className:"contents"},t.receiver_name),h.a.createElement("td",{colSpan:1,className:"title left-border"},"연락처"),h.a.createElement("td",{colSpan:1,className:"contents"},t.receiver_contact)),h.a.createElement("tr",{colSpan:4},h.a.createElement("td",{colSpan:1,className:"title shipping"},"배송지"),h.a.createElement("td",{colSpan:3,className:"contents"},t.receiver_basic_address,h.a.createElement("br",null),t.receiver_detail_address)),h.a.createElement("tr",{colSpan:4},h.a.createElement("td",{colSpan:1,className:"title"},"배송방법"),h.a.createElement("td",{colSpan:3,className:"contents"},t.shipping_method)),h.a.createElement("tr",{colSpan:4},h.a.createElement("td",{colSpan:1,className:"title"},"배송메모"),h.a.createElement("td",{colSpan:3,className:"contents"},t.shipping_message)))),h.a.createElement("div",null,h.a.createElement("span",null,"주문 처리 이력"),h.a.createElement("table",null,h.a.createElement("tr",{colSpan:4},h.a.createElement("td",{colSpan:1,className:"title"},"주문"),h.a.createElement("td",{colSpan:3,className:"contents"},"주문완료")),h.a.createElement("tr",null,h.a.createElement("td",{colSpan:1,className:"title"},"결제완료"),h.a.createElement("td",{colSpan:3,className:"contents"},"카드 완료")))),h.a.createElement("div",{className:"center"},h.a.createElement("button",{id:"confirm",onClick:a},"확 인")),h.a.createElement("div",{className:"icon",id:"print",onClick:this.onPrint},"인 쇄")))))}}]),t}(u.Component);t.a=g},1237:function(e,t,a){"use strict";var n=a(1238),r=a(1239),i=a(1240),l=a(1241),s=a(1231);a.d(t,"a",function(){return n.a}),a.d(t,"c",function(){return r.a}),a.d(t,"b",function(){return i.a}),a.d(t,"e",function(){return l.a}),a.d(t,"d",function(){return s.a})},1238:function(e,t,a){"use strict";function n(e){var t=e.children;return i.a.createElement("div",{className:"container order-wrapper"},t)}var r=a(2),i=a.n(r);t.a=n},1239:function(e,t,a){"use strict";function n(){return i.a.createElement("div",{className:"order-header ns-EB"},"발주서 확인/물건 보내기")}var r=a(2),i=a.n(r);t.a=n},1240:function(e,t,a){"use strict";function n(e){var t=e.children;return i.a.createElement("div",{className:"order-table-wrapper"},t)}var r=a(2),i=a.n(r);t.a=n},1241:function(e,t,a){"use strict";var n=a(495),r=a.n(n),i=a(496),l=a.n(i),s=a(81),c=a.n(s),o=a(82),m=a.n(o),d=a(83),p=a.n(d),u=a(84),h=a.n(u),g=a(85),f=a.n(g),b=a(2),E=a.n(b),v=a(51),N=(a.n(v),a(497)),y=(a(1231),a(498)),k=y.ToastContainer,S=E.a.createFactory(y.ToastMessage.animation),_=["CJ대한통운","우체국택배","한진택배","롯데택배","로젠택배","KG로지스","KGB택배","경동택배","대신택배","일양로지스","합동택배","GTX로지스","건양택배","천일택배","한의사랑택배","한덱스","범한판토스","KGL네트웍스","굿투럭","호남택배","SLX로지스"],C=function(e){function t(e){m()(this,t);var a=h()(this,(t.__proto__||c()(t)).call(this,e));return a.state={editStatus:Object(v.List)([!1])},a.addAlert=a.addAlert.bind(a),a.changeHandler=a.changeHandler.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.handleEditStatus=a.handleEditStatus.bind(a),a.renderTableItem=a.renderTableItem.bind(a),a}return f()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.form.get("id")!==e.form.get("id")&&(this.props.FormActions.formChange({formName:"orders",name:"shippingCompany",value:""}),this.props.FormActions.formChange({formName:"orders",name:"trackingNumber",value:""}))}},{key:"addAlert",value:function(e,t){switch(e){case"warning":return this.toastRef.warning(""+t);case"success":return this.toastRef.success(""+t);case"error":return this.toastRef.error(""+t)}}},{key:"changeHandler",value:function(e,t){this.props.FormActions.orderFormChange({name:t.target.name,value:t.target.value,id:e})}},{key:"handleSubmit",value:function(){function e(e){return t.apply(this,arguments)}var t=l()(r.a.mark(function e(t){var a,n,i,l,s,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.OrderActions,i=a.form,t.preventDefault(),l={shippingMethod:i.get("shippingMethod"),shippingCompany:i.get("shippingCompany"),trackingNumber:i.get("trackingNumber")},s=/^[0-9-]*$/,""!==l.shippingMethod&&"string"===typeof l.shippingMethod){e.next=9;break}return this.addAlert("error","배송 방법을 선택해주세요!"),e.abrupt("return");case 9:if(""!==l.shippingCompany&&"string"===typeof l.shippingCompany){e.next=14;break}return this.addAlert("error","회사명을 선택 또는 입력해주세요!"),e.abrupt("return");case 14:if(""!==l.trackingNumber&&"string"===typeof l.trackingNumber){e.next=19;break}return this.addAlert("error","운송장 번호를 입력해주세요!"),e.abrupt("return");case 19:if(s.test(l.trackingNumber)){e.next=22;break}return this.addAlert("error","운송장 번호에는 숫자 및 하이픈(-)만 입력해주세요!"),e.abrupt("return");case 22:return c=i.get("id"),e.prev=23,e.next=26,n.orderShippingUpdate(l,c);case 26:return e.next=28,n.getOrderList();case 28:return this.addAlert("success","배송 정보가 등록되었습니다."),e.abrupt("return");case 32:e.prev=32,e.t0=e.catch(23),e.t0;case 35:case"end":return e.stop()}},e,this,[[23,32]])}));return e}()},{key:"handleEditStatus",value:function(e){this.setState({editStatus:this.state.editStatus.update(e-1,function(e){return!e})})}},{key:"renderTableItem",value:function(e,t){var a=this,n=this.changeHandler,r=this.handleSubmit,i=this.handleEditStatus;return e.reverse().map(function(e,l){var s=l+t+1,c=["shippingMethod","shippingCompany","trackingNumber"],o=function(){var t=E.a.createElement("td",{className:"half-line"},E.a.createElement("select",{className:"form-control shippingMethod",name:"shippingMethod",value:e.get("id")===a.props.form.get("id")?a.props.form.get(c[0]):"",onChange:function(t){return n(e.get("id"),t)}},E.a.createElement("option",null,"선택"),E.a.createElement("option",{value:"택배"},"택배"),E.a.createElement("option",{value:"자체배송"},"자체배송"))),i=E.a.createElement("td",{className:"half-line"},E.a.createElement("select",{disabled:e.get("id")===a.props.form.get("id")&&"자체배송"===a.props.form.get(c[0]),className:"form-control shippingCompany",name:"shippingCompany",value:e.get("id")===a.props.form.get("id")?a.props.form.get(c[1]):"",onChange:function(t){return n(e.get("id"),t)}},E.a.createElement("option",null,"선택"),_.map(function(e){return E.a.createElement("option",{key:e,value:e},e)}))),l="";return"택배"===a.props.form.get("shippingMethod")?l="운송장 번호를 입력해주세요":"자체배송"===a.props.form.get("shippingMethod")&&(l="기사님의 연락처를 입력해주세요",a.props.FormActions.formChange({formName:"orders",name:"shippingCompany",value:"자체배송"})),{shippingMethod:t,shippingCompany:i,trackingNumber:E.a.createElement("td",{className:"number-line"},E.a.createElement("input",{className:"form-control trackingNumber",type:"text",name:"trackingNumber",placeholder:e.get("id")===a.props.form.get("id")?l:"",value:e.get("id")===a.props.form.get("id")?a.props.form.get(c[2]):"",onChange:function(t){return n(e.get("id"),t)}}),a.props.status.shippingRegister.get("fetching")?E.a.createElement(N.c,null):E.a.createElement("button",{className:"input",type:"button",onClick:r},"입력"))}},m=function(){var t=["shipping_method","shipping_company","tracking_number"];return{shippingMethod:E.a.createElement("td",{className:"half-line"},e.get(t[0])),shippingCompany:E.a.createElement("td",{className:"half-line"},e.get(t[1])),trackingNumber:E.a.createElement("td",{className:"half-line"},e.get(t[2]))}},d=function(){return null===e.get("shipping_method")||p()},p=function(){return a.state.editStatus.get(s-1)},u=function(){a.props.modalVisibleHandler(e.get("id"))};return E.a.createElement("tr",{className:"body",key:s},E.a.createElement("td",{className:"number-line"},s),E.a.createElement("td",{className:"half-line"},E.a.createElement("span",{id:"more_info",onClick:u},e.get("product_order_number"))),E.a.createElement("td",{className:"number-line"},e.get("model_name")),E.a.createElement("td",{className:"half-line"},e.get("receiver_name")),E.a.createElement("td",{className:"half-line"},e.get("receiver_contact")),E.a.createElement("td",{className:"number-line"},"20170404"),d()?o().shippingMethod:m().shippingMethod,d()?o().shippingCompany:m().shippingCompany,d()?o().trackingNumber:m().trackingNumber,function(){return E.a.createElement("td",{className:"half-line"},p()?function(){return E.a.createElement("button",{className:"cancel",onClick:function(){return i(s)}},"취소")}():function(){var t="";return function(){return null!==e.get("tracking_number")||null!==e.get("shipping_method")}()&&(t=E.a.createElement("button",{className:"edit",onClick:function(){return i(s)}},"수정")),t}())}())})}},{key:"render",value:function(){var e=this;return E.a.createElement("table",{className:"order-table ns-R"},E.a.createElement(k,{ref:function(t){e.toastRef=t},toastMessageFactory:S,className:document.documentElement.clientWidth<768?"toast-bottom-center":"toast-top-right"}),E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",{rowSpan:2,className:"head-NO"},"No."),E.a.createElement("th",{colSpan:2,className:"head-product"},"제품"),E.a.createElement("th",{colSpan:3,className:"head-buyer"},"구매자"),E.a.createElement("th",{colSpan:3,className:"head-shipping"},"배송"),E.a.createElement("th",{rowSpan:2,className:"head-sheet"},"주문서")),E.a.createElement("tr",null,E.a.createElement("th",null,"주문번호"),E.a.createElement("th",null,"모델명"),E.a.createElement("th",null,"구매자"),E.a.createElement("th",null,"연락처"),E.a.createElement("th",null,"주문일"),E.a.createElement("th",{className:"shippingMethod"},"배송방법"),E.a.createElement("th",{className:"shippingCompany"},"택배회사"),E.a.createElement("th",{className:"trackingNumber"},"운송장 번호"))),E.a.createElement("tbody",null,this.renderTableItem(this.props.tableItems,this.props.tableIndex)))}}]),t}(b.Component);t.a=C},1299:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(87),r=a.n(n),i=a(495),l=a.n(i),s=a(496),c=a.n(s),o=a(81),m=a.n(o),d=a(82),p=a.n(d),u=a(83),h=a.n(u),g=a(84),f=a.n(g),b=a(85),E=a.n(b),v=a(2),N=a.n(v),y=a(269),k=a(171),S=a(503),_=a.n(S),C=a(1237),I=a(497),x=a(505),O=a(499),M=function(e){function t(e){p()(this,t);var a=f()(this,(t.__proto__||m()(t)).call(this,e)),n=_.a.range(1,151).map(function(e){return{id:e,name:"Item "+e}});return a.state={exampleItems:n,pageOfItems:[],pageOfIndex:0,modalVisible:!1},a.onChangePage=a.onChangePage.bind(a),a.modalVisibleHandler=a.modalVisibleHandler.bind(a),a}return E()(t,e),h()(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=c()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.OrderActions,e.prev=1,e.next=4,t.getOrderList();case 4:e.next=10;break;case 6:if(e.prev=6,e.t0=e.catch(1),!e.t0){e.next=10;break}throw e.t0;case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return e}()},{key:"onChangePage",value:function(e,t){this.setState({pageOfItems:e,pageOfIndex:t})}},{key:"modalVisibleHandler",value:function(){function e(e){return t.apply(this,arguments)}var t=c()(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.OrderActions,!t){e.next=11;break}return e.prev=2,e.next=5,a.getOrderDetailShipping(t);case 5:e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(2),!e.t0){e.next=11;break}throw e.t0;case 11:this.setState({modalVisible:!this.state.modalVisible});case 12:case"end":return e.stop()}},e,this,[[2,7]])}));return e}()},{key:"render",value:function(){return this.props.status.orderList.get("fetching")?N.a.createElement(I.c,null):N.a.createElement(C.a,null,N.a.createElement(C.d,{modalVisibleHandler:this.modalVisibleHandler,modalVisible:this.state.modalVisible,orderSpecific:this.props.orderDetail}),N.a.createElement(C.c,null),N.a.createElement(C.b,null,N.a.createElement(C.e,r()({tableItems:this.state.pageOfItems,tableIndex:this.state.pageOfIndex,modalVisibleHandler:this.modalVisibleHandler},this.props))),N.a.createElement(I.b,{items:this.props.orders,onChangePage:this.onChangePage}))}}]),t}(v.Component);t.default=Object(y.b)(function(e){return{status:{orderList:e.order.getIn(["requests","orderList"]),orderDetailShipping:e.order.getIn(["requests","orderDetailShipping"]),shippingRegister:e.order.getIn(["requests","shippingRegister"]),shippingUpdate:e.order.getIn(["requests","shippingUpdate"])},valid:{orderList:e.order.getIn(["valid","orderList"]),orderDetailShipping:e.order.getIn(["valid","orderDetailShipping"]),shippingRegister:e.order.getIn(["valid","shippingRegister"]),shippingUpdate:e.order.getIn(["valid","shippingUpdate"])},orders:e.order.get("orders"),form:e.form.get("orders"),orderDetail:e.order.get("orderDetail")}},function(e){return{OrderActions:Object(k.b)(x,e),FormActions:Object(k.b)(O,e)}})(M)}});
//# sourceMappingURL=15.18bf4c70.chunk.js.map